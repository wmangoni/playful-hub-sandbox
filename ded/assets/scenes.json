{
    "start": {
        "text": "Voc√™ est√° na entrada da antiga Masmorra de Drakmor. Degraus de pedra esculpida levam para a escurid√£o. Lendas falam de tesouros dentro, mas tamb√©m de armadilhas mortais e monstros tem√≠veis. O ar est√° frio contra sua pele enquanto voc√™ observa a penumbra.",
        "choices": [{
            "text": "Entrar na masmorra",
            "nextScene": "corridor"
        }, {
            "text": "Inspecionar a entrada para armadilhas",
            "nextScene": "entrance_inspection"
        }, {
            "text": "Verificar seus suprimentos antes de entrar",
            "nextScene": "check_supplies"
        }, {
            "text": "Comprar suprimentos antes de come√ßar a jornada",
            "nextScene": "buy_supplies"
        }]
    },
    "buy_supplies": {
        "text": "Compre alguns suprimentos antes de come√ßar a jornada.",
        "choices": [{
            "text": "Entrar na masmorra",
            "nextScene": "corridor"
        }, {
            "text": "Inspecionar a entrada para armadilhas",
            "nextScene": "entrance_inspection"
        }, {
            "text": "Verificar seus suprimentos antes de entrar",
            "nextScene": "check_supplies"
        }],
        "onEnter": "function() { playerGoldElement.textContent = `Ouro: ${gameState.player.gold}`; shopModal.classList.remove('hidden'); }"
    },
    "entrance_inspection": {
        "text": "Voc√™ examina cuidadosamente a entrada. A alvenaria √© antiga, mas s√≥lida. Voc√™ nota algumas marcas de arranh√µes perto do ch√£o - talvez de criaturas arrastando algo... ou algu√©m. N√£o parece haver nenhuma armadilha na entrada em si.",
        "choices": [{
            "text": "Entrar na masmorra",
            "nextScene": "corridor"
        }, {
            "text": "Verificar seus suprimentos antes de entrar",
            "nextScene": "check_supplies"
        }]
    },
    "check_supplies": {
        "text": "Voc√™ faz um balan√ßo de seus suprimentos escassos. Um pequeno cantil de √°gua, um pouco de carne seca, um isqueiro para iniciar fogo e sua arma confi√°vel. Voc√™ espera que seja o suficiente para o que quer que esteja esperando abaixo.",
        "choices": [{
            "text": "Entrar na masmorra",
            "nextScene": "corridor"
        }],
        "onEnter": "function() { addToInventory('Cantil de √Ågua'); addToInventory('Carne Seca'); addToInventory('Isqueiro'); }"
    },
    "corridor": {
        "text": "O corredor se estende √† sua frente, mal iluminado por fungos fosforescentes nas paredes. O ar √© √∫mido e bolorento. Depois de caminhar por alguns minutos, voc√™ chega a uma bifurca√ß√£o no caminho.",
        "choices": [{
            "text": "Pegar o caminho da esquerda",
            "nextScene": "goblin_encounter"
        }, {
            "text": "Pegar o caminho da direita",
            "nextScene": "treasure_room"
        }]
    },
    "goblin_encounter": {
        "text": "Ao virar uma esquina, voc√™ fica cara a cara com um goblin rosnando! Ele √© pequeno, mas cruel, empunhando um punhal enferrujado e vestindo uma armadura de couro esfarrapada. Ele sibila e se prepara para atacar!",
        "choices": [{
            "text": "Lutar contra o goblin",
            "nextScene": "goblin_fight",
            "requiresCheck": true,
            "checkType": "combat"
        }, {
            "text": "Tentar passar furtivamente",
            "nextScene": "goblin_stealth",
            "requiresCheck": true,
            "checkType": "dex"
        }, {
            "text": "Tentar argumentar com ele",
            "nextScene": "goblin_talk",
            "requiresCheck": true,
            "checkType": "int"
        }],
        "onEnter": "function() { gameState.mem.nextSceneSuccess = 'goblin_fight_success'; gameState.currentEnemy = { \"name\": \"Goblin\", \"ac\": 10, \"hp\": 12, \"max_hp\": 12, \"str\": 10, \"dex\": 10, \"con\": 10, \"bba\": 1 } }"
    },
    "goblin_stealth": {
        "text": "Voc√™ passa pelo goblin sem problemas!",
        "choices": [{
            "text": "Continuar pelo corredor",
            "nextScene": "dark_chamber"
        }, {
            "text": "Voltar e lutar contra o goblin",
            "nextScene": "goblin_fight",
            "requiresCheck": true,
            "checkType": "combat"
        }],
        "onEnter": "function() { addToInventory('Cantil de √Ågua'); addToInventory('Carne Seca'); addToInventory('Isqueiro'); gameState.mem.nextSceneSuccess = 'goblin_fight_success'; gameState.currentEnemy = { \"name\": \"Goblin\", \"ac\": 10, \"hp\": 12, \"max_hp\": 12, \"str\": 10, \"dex\": 10, \"con\": 10, \"bba\": 1 } }"
    },
    "goblin_fight_success": {
        "text": "Voc√™ se mant√©m firme e se defende dos ataques do goblin. Ap√≥s uma luta breve, mas intensa, o goblin tomba sangrando dando seu √∫ltimo suspiro.",
        "choices": [{
            "text": "Continuar pelo corredor",
            "nextScene": "dark_chamber"
        }],
        "onEnter": "function() { changeXP(25); }"
    },
    "goblin_fight_failure": {
        "text": "Voc√™ se n√£o resiste a f√∫ria insana no globin e tomba sob sua adaga enferrujada. Voc√™ morreu.",
        "choices": [],
        "onEnter": "function() { addToLog('‚ò†Ô∏è‚ò†Ô∏è‚ò†Ô∏è Voc√™ morreu para o goblin ‚ò†Ô∏è‚ò†Ô∏è‚ò†Ô∏è'); }"
    },
    "treasure_room": {
        "text": "O ar fica pesado com o cheiro de madeira envelhecida e metal polido quando voc√™ abre a porta rangendo. Diante de voc√™, uma c√¢mara brilha com a luz quente de mil reflexos dourados. Pilhas de moedas caem em cascata como cachoeiras congeladas, suas superf√≠cies captando o brilho de antigas lanternas encantadas. No centro, um pedestal sustenta um √∫nico ba√∫ ornamentado, sua superf√≠cie gravada com runas que pulsam fracamente com energia arcana.",
        "choices": [{
            "text": "Pegar todos os tesouros!!!",
            "nextScene": "getting_trasure"
        }],
        "onEnter": "function() { addToInventory('Cristais da Caverna'); addToInventory('Braceletes de ouro'); changeGold(800); }"
    },
    "getting_trasure": {
        "text": "Depois de pegar todas as coisas e colocar em sua mochila, um rosnado baixo e gutural ressoa atr√°s de voc√™, enviando um arrepio pela sua espinha. Voc√™ se vira lentamente, sua respira√ß√£o presa enquanto um lobo enorme emerge das sombras, com o pelo eri√ßado e os dentes √† mostra em um rosnado. Seus olhos amarelos penetrantes se fixam nos seus, m√∫sculos tensos como molas, prontos para atacar ao menor movimento.",
        "choices": [{
            "text": "Tentar acalmar o lobo",
            "nextScene": "wolf_calm",
            "requiresCheck": true,
            "checkType": "luck"
        }, {
            "text": "Lutar contra o lobo",
            "nextScene": "wolf_fight",
            "requiresCheck": true,
            "checkType": "combat"
        }],
        "onEnter": "function() { gameState.mem.nextSceneSuccess = 'wolf_fight_success'; gameState.currentEnemy = { \"name\": \"Wolf\", \"ac\": 14, \"hp\": 10, \"max_hp\": 10, \"str\": 12, \"dex\": 8, \"con\": 10, \"bba\": 1 } }"
    },
    "wolf_fight_success": {
        "text": "O lobo n√£o aguenta os ferimentos e tomba perdendo a consci√™ncia aos seus p√©s.",
        "choices": [{
            "text": "Fugir de volta para a c√¢mara",
            "nextScene": "dark_chamber"
        }],
        "onEnter": "function() { changeXP(25); }"
    },
    "wolf_fight_failure": {
        "text": "O lobo da caverna √© um inimigo formid√°vel. Apesar de seus melhores esfor√ßos, ele o domina, infligindo feridas profundas. Voc√™ mal consegue escapar com vida, recuando pelo caminho que veio.",
        "choices": [{
            "text": "Fugir de volta para a c√¢mara",
            "nextScene": "dark_chamber"
        }]
    },
    "wolf_calm_success": {
        "text": "Voc√™ estende a m√£o lentamente, falando em tons suaves. O lobo, surpreso com sua falta de agress√£o, hesita. Voc√™ nota o espinho em sua pata e se oferece para ajudar. Cautelosamente, ele permite que voc√™ remova o espinho. O al√≠vio toma conta do lobo, e ele lambe sua m√£o em gratid√£o antes de recuar para o interior da caverna.",
        "choices": [{
            "text": "Atravessar o riacho agora",
            "nextScene": "cavern_crossing",
            "requiresCheck": true,
            "checkType": "dex"
        }, {
            "text": "Retornar para a c√¢mara",
            "nextScene": "dark_chamber"
        }],
        "onEnter": "function() { changeXP(20); }"
    },
    "wolf_calm_failure": {
        "text": "O lobo n√£o responde √†s suas tentativas de acalm√°-lo. Ele permanece cauteloso e hostil, rosnando profundamente. Parece que ele n√£o est√° disposto a confiar em voc√™.",
        "choices": [{
            "text": "Lutar contra o lobo",
            "nextScene": "wolf_fight",
            "requiresCheck": true,
            "checkType": "combat"
        }, {
            "text": "Recuar lentamente em dire√ß√£o a caverna sem desviar o olhar do lobo",
            "nextScene": "cavern",
            "requiresCheck": true,
            "checkType": "luck"
        }],
        "onEnter": "function() { gameState.currentEnemy = { \"name\": \"Wolf\", \"ac\": 14, \"hp\": 10, \"max_hp\": 10, \"str\": 12, \"dex\": 8, \"con\": 10, \"bba\": 1 } }"
    },
    "dark_chamber": {
        "text": "Voc√™ continua descendo a passagem, caminhando lentamente por 20 metros mais ou menos e √† sua frente voc√™ tem uma c√¢mara escura. L√° dentro n√£o tem nada de interessante, apenas 2 portas de madeira antigas √† sua frente",
        "choices": [{
            "text": "Porta esquerda",
            "nextScene": "cavern"
        }, {
            "text": "Porta direita",
            "nextScene": "cavern"
        }]
    },
    "cavern": {
        "text": "Voc√™ caminha por um tempo at√© a entrada de um corredor muito escuro. Na verdade, esse maldito corredor est√° mais escuro que a cueca do Batman! N√£o lhe parece seguro seguir sem saber o que tem ali...",
        "choices": [{
            "text": "V√° em frente e atravesse a caverna",
            "nextScene": "cavern_crossing",
            "requiresCheck": true,
            "checkType": "dex"
        }, {
            "text": "Voltar para a c√¢mara escura",
            "nextScene": "dark_chamber"
        }],
        "onEnter": "function() { if (gameState.player.inventory.includes('Tocha')) { scenes['cavern'].choices.push({ 'text': 'Acender uma tocha!', 'nextScene': 'cavern_crossing_success' }); addChoiceInCurrentScene(scenes['cavern']); addToLog('üïØÔ∏è Valeu a pena comprar uma tocha!'); } }"
    },
    "cavern_crossing_success": {
        "text": "Voc√™ navega cuidadosamente pelas pedras escorregadias e pela correnteza r√°pida do riacho subterr√¢neo. Voc√™ chega ao outro lado, levemente molhado, mas ileso. Uma passagem estreita continua adiante a partir daqui.",
        "choices": [{
            "text": "Continue na passagem",
            "nextScene": "crystal_cave"
        }],
        "onEnter": "function() { changeXP(10); }"
    },
    "cavern_crossing_failure": {
        "text": "Voc√™ erra um passo e escorrega nas pedras molhadas, mergulhando no riacho frio! Voc√™ consegue chegar ao outro lado, encharcado e tremendo. A passagem √† frente parece pouco convidativa, mas voltar √© t√£o frio quanto.",
        "choices": [{
            "text": "Continue na passagem, apesar de estar molhado",
            "nextScene": "crystal_cave"
        }, {
            "text": "Retorne √† c√¢mara, pingando √°gua",
            "nextScene": "dark_chamber"
        }],
        "onEnter": "function() { changeHealth(-2); }"
    },
    "crystal_cave": {
        "text": "A passagem estreita se abre para uma caverna de cristal de tirar o f√¥lego. Paredes, teto e ch√£o s√£o cobertos por cristais brilhantes de v√°rios tamanhos e cores, refletindo sua luz em um show deslumbrante. Mais adentro, voc√™ v√™ um caminho fraco serpenteando pelos cristais.",
        "choices": [{
            "text": "Siga o caminho mais fundo",
            "nextScene": "crystal_path"
        }, {
            "text": "Examine os cristais mais de perto",
            "nextScene": "crystal_examine"
        }, {
            "text": "Retorne ao riacho da caverna",
            "nextScene": "cavern_crossing"
        }]
    },
    "crystal_path": {
        "text": "Voc√™ segue o caminho sinuoso, os cristais se tornando mais densos e magn√≠ficos. O caminho leva a uma abertura maior - voc√™ sente que est√° se aproximando de algo significativo.",
        "choices": [{
            "text": "Prossiga com cautela",
            "nextScene": "crystal_chamber"
        }]
    },
    "crystal_examine": {
        "text": "Voc√™ tira um momento para examinar os cristais mais de perto. Eles s√£o de qualidade excepcional, alguns irradiando uma leve luz interior. Voc√™ provavelmente poderia arrancar alguns...",
        "choices": [{
            "text": "Tente coletar alguns cristais",
            "nextScene": "crystal_collect",
            "requiresCheck": true,
            "checkType": "dex"
        }, {
            "text": "Siga o caminho mais fundo",
            "nextScene": "crystal_path"
        }, {
            "text": "Retorne ao riacho da caverna",
            "nextScene": "cavern_crossing"
        }]
    },
    "crystal_collect_success": {
        "text": "Trabalhando cuidadosamente para soltar alguns dos cristais mais acess√≠veis, voc√™ consegue coletar um punhado de belas joias. Elas s√£o frias ao toque e podem valer uma boa grana.",
        "choices": [{
            "text": "Continue mais fundo na caverna",
            "nextScene": "crystal_path"
        }],
        "onEnter": "function() { addToInventory('Cristais da Caverna'); changeGold(8); }"
    },
    "crystal_collect_failure": {
        "text": "Ao tentar arrancar um cristal, voc√™ desaloja um peda√ßo maior de rocha. Ele cai, por pouco n√£o atingindo seu p√© e fazendo um barulho alto pela caverna. O barulho acaba atraindo uma aranha gigante.",
        "choices": [{
            "text": "Lutar contra a aranha",
            "nextScene": "spider_fight",
            "requiresCheck": true,
            "checkType": "combat"
        }],
        "onEnter": "function() { gameState.currentEnemy = { \"name\": \"Spider\", \"ac\": 13, \"hp\": 16, \"max_hp\": 16, \"str\": 12, \"dex\": 8, \"con\": 10, \"bba\": 2 } }"
    },
    "spider_fight_success": {
        "text": "A aranha cai morta perante a f√∫ria de seus golpes. √â hora de seguir em frente.",
        "choices": [{
            "text": "√â hora de seguir em frente",
            "nextScene": "crystal_path"
        }],
        "onEnter": "function() { changeXP(50); }"
    },
    "spider_fight_failure": {
        "text": "A aranha quase te mata mas no √∫ltimo golpe ela escuta um barulho alto e foge rapidamente para a escurid√£o da caverna.",
        "choices": [{
            "text": "Seguir adiante",
            "nextScene": "crystal_path"
        }]
    },
    "crystal_chamber": {
        "text": "O caminho se abre para uma grande c√¢mara de cristal. Enormes forma√ß√µes de pilares de cristal se erguem do ch√£o e pendem do teto, criando uma floresta de luz sobrenatural. No centro, em um estrado elevado de cristal puro, voc√™ v√™ um objeto cintilante. Este deve ser um tesouro significativo!",
        "choices": [{
            "text": "Aproxime-se do estrado",
            "nextScene": "crystal_treasure_approach"
        }, {
            "text": "Procure outras sa√≠das",
            "nextScene": "crystal_cave_exits"
        }]
    },
    "crystal_cave_exits": {
        "text": "Voc√™ examina as paredes da c√¢mara de cristal. Al√©m do caminho de onde voc√™ veio, voc√™ v√™ uma abertura estreita perto do ch√£o, quase escondida atr√°s de um aglomerado de cristais maiores.",
        "choices": [{
            "text": "Investigue a abertura estreita",
            "nextScene": "secret_passage_entrance"
        }, {
            "text": "Vasculhar aglomerado de cristais",
            "nextScene": "crystal_treasure_approach"
        }]
    },
    "crystal_cave_exits_alternative": {
        "text": "Voc√™ examina as paredes da c√¢mara de cristal. Al√©m do caminho de onde voc√™ veio, voc√™ v√™ uma abertura estreita perto do ch√£o, quase escondida atr√°s de um aglomerado de cristais maiores.",
        "choices": [{
            "text": "Investigue a abertura estreita",
            "nextScene": "secret_passage_entrance"
        }]
    },
    "crystal_treasure_approach": {
        "text": "Voc√™ vasculha o aglomerado de cristais e um tent√°culo roxo enorme e gosmento sai dentro do monte de cristais e agarra-lhe repentinamente! uma aura fantasmag√≥rica surge junto com o tent√°culo com vozes do al√©m implorando para que voc√™ os libertem",
        "choices": [{
            "text": "Arrebentar o tentaculo na for√ßa bruta",
            "nextScene": "destroy_tentacle"
        }, {
            "text": "Cortar o tentaculo",
            "nextScene": "cutting_tentacle"
        }, {
            "text": "Cortar seu pr√≥prio bra√ßo para escapar",
            "nextScene": "cutting_arm"
        }, {
            "text": "Colocar o obejto mais pr√≥ximo no tentaculo pra ver o que acontece",
            "nextScene": "lost_money_tentacle"
        }]
    },
    "lost_money_tentacle": {
        "text": "O objecto mais pr√≥ximo √© sua pr√≥pria mochila e √© ela que voc√™ coloca no tent√°culo para ver se ela te solta",
        "choices": [{
            "text": "Remover o tent√°culo",
            "nextScene": "remove_tentacle",
            "requiresCheck": true,
            "checkType": "luck"
        }],
        "onEnter": "function() { if (gameState.player.inventory.includes('Cristais da Caverna')) { gameState.checkDifficulty = 4; } else { if (haveMoney(100)) { gameState.checkDifficulty = 4; } else { gameState.checkDifficulty = 14; } } }"
    },
    "remove_tentacle_success": {
        "text": "A mochila pesada chama a aten√ß√£o do tent√°culo fazendo-o lagar seu bra√ßo.",
        "choices": [{
            "text": "Se afastar dos tent√°culos",
            "nextScene": "tentacle_result_success"
        }],
        "onEnter": "function() { changeXP(50); }"
    },
    "destroy_tentacle": {
      "text": "Voc√™ segura firme o tent√°culo e o puxa com toda a sua for√ßa na esperan√ßa de arrebent√°-lo brutalmente.",
      "choices": [{
          "text": "E agora?",
          "nextScene": "tentacle_result",
          "requiresCheck": true,
          "checkType": "str"
      }],
      "onEnter": "function() { gameState.checkDifficulty = 20 }"
    },
    "cutting_tentacle": {
      "text": "Voc√™ pega sua arma rapidamente sem pensar duas vezes e acerta o tent√°culo na tentativa de corta-lo.",
      "choices": [{
          "text": "E agora?",
          "nextScene": "tentacle_result",
          "requiresCheck": true,
          "checkType": "str"
      }],
      "onEnter": "function() { gameState.checkDifficulty = 16 }"
    },
    "cutting_arm": {
      "text": "Voc√™ n√£o pensa duas vezes em cortar seu pr√≥prio bra√ßo na tentativa de se salvar, pois percebe rapidamente que o tent√°culo √© absurdamente forte e resistente e tentar golpe√°-lo seria perda de tempo e voc√™ certamente morreria tentando.",
      "choices": [{
          "text": "E agora?",
          "nextScene": "tentacle_result",
          "requiresCheck": true,
          "checkType": "str"
      }],
      "onEnter": "function() { gameState.checkDifficulty = 6; changeHealth(-13); }"
    },
    "tentacle_result_success": {
      "text": "Voc√™ conseuiu escapar da morte certa por muito pouco. Voc√™ junta sua mochila com as coisas que sobraram e segue adiante rapidamente.",
      "choices": [{
        "text": "Investigue a abertura estreita",
        "nextScene": "secret_passage_entrance"
      }],
      "onEnter": "function() { changeXP(20); }"
    },
    "tentacle_result_failure": {
      "text": "Voc√™ subestimou a for√ßa do tent√°culo e ele te puxa pra dentro do aglomerado de cristais onde outros tent√°culos te agarram e espremem com for√ßa!",
      "choices": [{
        "text": "Gritar por socorro",
        "nextScene": "death"
      }]
    },
    "secret_passage_entrance": {
        "text": "A abertura estreita parece levar a um t√∫nel toscamente esculpido. √â escuro e apertado, mas pode oferecer um caminho alternativo... ou para outra parte da masmorra.",
        "choices": [{
            "text": "Aventure-se na passagem secreta",
            "nextScene": "secret_passage"
        }, {
            "text": "Retorne ao centro da c√¢mara de cristal",
            "nextScene": "crystal_chamber"
        }]
    },
    "secret_passage": {
        "text": "A passagem secreta √© realmente apertada e empoeirada, mas parece inclinar para baixo. Depois de se esgueirar pela escurid√£o, o t√∫nel come√ßa a se alargar e voc√™ ouve o som distante de √°gua pingando.",
        "choices": [{
            "text": "Continue mais fundo na passagem",
            "nextScene": "underground_lake"
        }, {
            "text": "Retorne ao centro da c√¢mara de cristal",
            "nextScene": "crystal_chamber"
        }]
    },
    "underground_lake": {
        "text": "A passagem se abre para uma grande caverna dominada por um lago subterr√¢neo. A √°gua √© escura e parada, refletindo a luz fraca do musgo fosforescente no teto. Uma jangada de madeira de apar√™ncia inst√°vel est√° amarrada a uma rocha perto da costa.",
        "choices": [{
            "text": "Pegue a jangada para atravessar o lago",
            "nextScene": "lake_raft",
            "requiresCheck": true,
            "checkType": "dex"
        }, {
            "text": "Procure outro caminho ao redor do lago",
            "nextScene": "lake_search"
        }, {
            "text": "Retorne √† c√¢mara de cristal",
            "nextScene": "crystal_chamber"
        }]
    },
    "lake_raft_success": {
        "text": "Equilibrando-se cuidadosamente na velha jangada, voc√™ usa uma vara improvisada para navegar pelo lago escuro. √â uma jornada lenta e prec√°ria, mas voc√™ chega √† costa oposta em seguran√ßa. A entrada de um t√∫nel escuro espera.",
        "choices": [{
            "text": "Entre no t√∫nel",
            "nextScene": "final_chamber_entrance"
        }],
        "onEnter": "function() { changeXP(20); }"
    },
    "lake_raft_failure": {
        "text": "A jangada est√° mais podre do que parecia. No meio do lago, ela come√ßa a se desfazer! Voc√™ mergulha na √°gua gelada, lutando para nadar at√© a costa oposta. Voc√™ consegue, mas est√° congelando e perdeu alguns suprimentos.",
        "choices": [{
            "text": "Continue no t√∫nel, tremendo",
            "nextScene": "final_chamber_entrance"
        }],
        "onEnter": "function() { changeHealth(-5); if (gameState.player.inventory.includes('Isqueiro')) { removeFromInventory('Isqueiro'); } if (gameState.player.inventory.includes('Carne Seca')) { removeFromInventory('Carne Seca'); } }"
    },
    "lake_search": {
        "text": "Voc√™ procura na beira do lago subterr√¢neo por outro caminho. Depois de algum tempo, voc√™ encontra uma sali√™ncia estreita ao longo da parede da caverna, logo acima do n√≠vel da √°gua. Parece trai√ßoeiro.",
        "choices": [{
            "text": "Tente atravessar usando a sali√™ncia",
            "nextScene": "lake_ledge_cross",
            "requiresCheck": true,
            "checkType": "dex"
        }, {
            "text": "Volte e pegue a jangada",
            "nextScene": "lake_raft",
            "requiresCheck": true,
            "checkType": "dex"
        }]
    },
    "lake_ledge_cross_success": {
        "text": "Com passos cuidadosos e pressionado contra a parede √∫mida da caverna, voc√™ segue pela sali√™ncia estreita. √â uma caminhada estressante, mas voc√™ chega ao outro lado com sucesso, evitando a √°gua fria completamente. H√° duas op√ß√µes a seguir:",
        "choices": [{
            "text": "Entre no t√∫nel √† frente",
            "nextScene": "final_chamber_entrance"
        }, {
            "text": "Des√ßa pelas escadas em espiral a sua esquerda",
            "nextScene": "crypt"
        }],
        "onEnter": "function() { changeXP(25); }"
    },
    "lake_ledge_cross_failure": {
        "text": "A sali√™ncia √© muito estreita e escorregadia. No meio do caminho, seu p√© escorrega e voc√™ perde o equil√≠brio, caindo no lago gelado abaixo! Voc√™ nada at√© a costa oposta, encharcado e derrotado.",
        "choices": [{
            "text": "Continue no t√∫nel, tremendo",
            "nextScene": "final_chamber_entrance"
        }, {
            "text": "Retorne √† c√¢mara de cristal, admitindo a derrota",
            "nextScene": "crystal_chamber"
        }],
        "onEnter": "function() { changeHealth(-6); }"
    },
    "final_chamber_entrance": {
        "text": "O t√∫nel leva a uma c√¢mara final e imponente. Tochas tremulam em arandelas de parede, lan√ßando sombras dan√ßantes pelas paredes ricamente decoradas. No centro da c√¢mara, no topo de um estrado elevado, est√° um grande cofre ornamentado. Este deve ser o lend√°rio tesouro de Drakmor!",
        "choices": [{
            "text": "Aproxime-se do cofre",
            "nextScene": "final_treasure_approach_careful_failure"
        }, {
            "text": "Procure armadilhas na c√¢mara primeiro",
            "nextScene": "final_chamber_search",
            "requiresCheck": true,
            "checkType": "int"
        }],
        "onEnter": "function() { changeMusic('../assets/sounds/trl-epica-dramatica-motivacional-arrepiante-202402121831.mp3'); }"
    },
    "final_chamber_search_success": {
        "text": "Seus olhos atentos notam linhas fracas gravadas no ch√£o ao redor do estrado e pequenos buracos nas paredes perto do cofre. Mecanismos de armadilha, provavelmente placas de press√£o e lan√ßadores de dardos. Voc√™ anota cuidadosamente suas localiza√ß√µes.",
        "choices": [{
            "text": "Aproxime-se cuidadosamente do cofre",
            "nextScene": "final_treasure_approach_careful",
            "requiresCheck": true,
            "checkType": "dex"
        }],
        "onEnter": "function() { changeXP(20); }"
    },
    "final_chamber_search_failure": {
        "text": "Voc√™ procura por armadilhas, mas a c√¢mara est√° cheia de sombras e sua luz n√£o √© forte o suficiente para penetr√°-las totalmente. Voc√™ n√£o pode ter certeza se h√° alguma armadilha ou n√£o.",
        "choices": [{
            "text": "Aproxime-se do cofre com cautela mesmo assim",
            "nextScene": "final_treasure_approach"
        }, {
            "text": "Usar o isqueiro",
            "nextScene": "final_treasure_approach_careful_success"
        }]
    },
    "final_chamber_search_failure_no_isqueiro": {
        "text": "Voc√™ procura por armadilhas, mas a c√¢mara est√° cheia de sombras e sua luz n√£o √© forte o suficiente para penetr√°-las totalmente. Voc√™ n√£o pode ter certeza se h√° alguma armadilha ou n√£o.",
        "choices": [{
            "text": "Aproxime-se do cofre com cautela mesmo assim",
            "nextScene": "final_treasure_approach"
        }]
    },
    "final_treasure_approach": {
        "text": "Respirando fundo, voc√™ decide se aproximar do cofre diretamente. Voc√™ caminha em dire√ß√£o ao estrado, seus sentidos em alerta m√°ximo...",
        "choices": [{
                "text": "Continue at√© o cofre",
                "nextScene": "final_treasure_open",
                "requiresCheck": true,
                "checkType": "luck"
            }
        ]
    },
    "final_treasure_approach_careful_success": {
        "text": "Usando seu conhecimento da localiza√ß√£o das armadilhas, voc√™ cuidadosamente contorna as placas de press√£o e evita acionar os lan√ßadores de dardos. Voc√™ chega ao estrado e ao cofre em seguran√ßa. Sua cautela valeu a pena!",
        "choices": [{
            "text": "Abra o cofre",
            "nextScene": "final_treasure_open_success"
        }],
        "onEnter": "function() { changeXP(30); if (!gameState.player.inventory.includes('Isqueiro')) { alert('‚ÅâÔ∏è Ops, parece que vc n√£o tem mais o Isqueiro. Voltando para a cena anterior.'); setTimeout(() => { loadScene('final_chamber_search_failure_no_isqueiro'); }, 300); } }"
    },
    "final_treasure_approach_careful_failure": {
        "text": "Apesar de seus passos cuidadosos, voc√™ calcula mal a posi√ß√£o de uma placa de press√£o. H√° um clique e uma saraivada de dardos √© disparada em sua dire√ß√£o de aberturas escondidas nas paredes! Voc√™ √© atingido, mas consegue cambalear at√© o estrado que acaba quebrando e fazendo-o cair. Voc√™ mergulha na escurid√£o, caindo com for√ßa em um po√ßo escondido.",
        "choices": [{
            "text": "?",
            "nextScene": "crypt"
        }],
        "onEnter": "function() { changeHealth(-5); }"
    },
    "final_treasure_open_success": {
        "text": "Com um baque pesado, a tampa do cofre se abre! Dentro, aninhada em almofadas de veludo, est√° uma magn√≠fica espada de joias. Ela irradia poder e magia ancestral. Moedas de ouro e joias se espalham ao redor dela, mais riqueza do que voc√™ jamais sonhou!",
        "choices": [{
            "text": "Reivindique o tesouro!",
            "nextScene": "last_fight"
        }],
        "onEnter": "function() { addToInventory('Espada Joia de Drakmor'); changeGold(5000); changeXP(50); gameState.player.maxHealth += 40; gameState.player.health = gameState.player.maxHealth; gameState.player.stats.str += 4; gameState.player.stats.bba += 2; addToLog('üíç üëë üíµ üí∞ ü™ô üíé'); }"
    },
    "final_treasure_open_failure": {
        "text": "Ao alcan√ßar o cofre, o estrado abaixo de voc√™ cede! Voc√™ mergulha na escurid√£o, caindo com for√ßa em um po√ßo escondido. O cofre e o tesouro permanecem tentadoramente fora de alcance acima de voc√™.",
        "choices": [{
            "text": "Tente sair do po√ßo",
            "nextScene": "pit_escape",
            "requiresCheck": true,
            "checkType": "str"
        }, {
            "text": "Aceite a derrota e tente encontrar outra sa√≠da",
            "nextScene": "crypt"
        }],
        "onEnter": "function() { if (!gameState.player.inventory.includes('Corda')) { scenes['final_treasure_open_failure'].choices.push({ 'text': 'Usar a corda para subir', 'nextScene': 'pit_escape' }); addToLog('ü™¢ Valeu a pena comprar uma corda!'); } }"
    },
    "pit_escape_success": {
        "text": "Usando toda a sua for√ßa, voc√™ encontra pontos de apoio nas paredes do po√ßo e consegue subir de volta para o ch√£o da c√¢mara, machucado e ferido, mas determinado.",
        "choices": [{
            "text": "Tente abrir o cofre novamente",
            "nextScene": "final_treasure_open"
        }, {
            "text": "Talvez este tesouro n√£o valha a pena. Recue.",
            "nextScene": "dark_chamber"
        }],
        "onEnter": "function() { changeHealth(-3); }"
    },
    "pit_escape_failure": {
        "text": "As paredes do po√ßo s√£o muito lisas e √≠ngremes para escalar. Voc√™ luta, mas n√£o encontra apoio. Voc√™ est√° preso, sem como alcan√ßar o tesouro acima.",
        "choices": [{
            "text": "Pe√ßa ajuda (se algu√©m puder ouvi-lo...)",
            "nextScene": "death"
        }, {
            "text": "Procure outra sa√≠da no po√ßo",
            "nextScene": "death"
        }],
        "onEnter": "function() { changeHealth(-2); }"
    },
    "crypt": {
        "text": "A sa√≠da direita da c√¢mara escura leva a uma cripta. Sarc√≥fagos de pedra revestem as paredes e o ar √© pesado com o cheiro de poeira e pedra velha. A luz da lua entra pelas rachaduras no teto, lan√ßando sombras misteriosas. Uma pesada porta de pedra est√° localizada na parede oposta.",
        "choices": [{
            "text": "Entrar na porta da direita",
            "nextScene": "crypt_merchant"
        }, {
            "text": "Ira at√© a porta do fundo da cripta",
            "nextScene": "crypt_door",
            "requiresCheck": true,
            "checkType": "str"
        }, {
            "text": "Examine os sarc√≥fagos",
            "nextScene": "crypt_sarcophagi"
        }]
    },
    "crypt_merchant": {
        "text": "A passagem da cripta se estreita at√© abrir-se em uma alcova sombria e √∫mida sem sa√≠da, iluminada apenas pelo brilho fraco de uma √∫nica lanterna pendurada em um gancho enferrujado na parede. O ar √© pesado com o cheiro de mofo e terra antiga, misturado a um leve aroma acre que voc√™ n√£o consegue identificar. Sarc√≥fagos quebrados alinham-se √†s paredes, suas tampas rachadas revelando escurid√£o vazia. No centro da alcova, uma figura encapuzada est√° de p√©, im√≥vel, como se fosse parte das sombras.\n\nO mercador n√£o se vira imediatamente. Seu rosto est√° oculto por um capuz negro esfarrapado, mas voc√™ vislumbra o brilho de olhos atentos sob a borda do tecido. Ele segura um cajado nodoso, cravejado de pequenos cristais opacos, e sua voz, quando finalmente fala, √© rouca e baixa, como o sussurro de folhas secas: 'Ol√°, estranho! Poucos chegam at√© aqui... vivos. Tenho mercadorias raras, se tiver ouro e coragem para pagar o pre√ßo.'\n\nSobre uma manta pu√≠da esticada no ch√£o, ele exibe seus itens: uma po√ß√£o turva que parece pulsar com luz pr√≥pria, uma adaga de cabo esculpido em osso, um amuleto pendurado em uma corrente de ferro manchada e um rolo de corda que parece estranhamente √∫mida ao toque entre outras coisas. O mercador inclina a cabe√ßa, esperando sua decis√£o, enquanto o som distante de algo arranhando pedra ecoa pela cripta.",
        "choices": [
            {
                "text": "Examinar os itens do mercador",
                "nextScene": "merchant_items"
            }, {
                "text": "Perguntar quem ele √©",
                "nextScene": "merchant_question"
            }, {
                "text": "Ignorar o mercador e seguir para a porta ao fundo da cripta",
                "nextScene": "crypt_door",
                "requiresCheck": true,
                "checkType": "str"
            }, {
                "text": "Tentar roub√°-lo",
                "nextScene": "merchant_steal_fail"
            }
        ],
        "onEnter": "function() { alert('Over rir, stchruendjah!'); addToLog('üè¥‚Äç‚ò†Ô∏è Voc√™ sente um calafrio ao olhar para o mercador. H√° algo errado com ele...'); }"
    },
    "merchant_question": {
        "text": "Voc√™ pergunta para o mercador: Voc√™ n√£o √© o carinha que vende coisas no Resident Evil 4? Ao que ele responde: Eu n√£o fa√ßo ideia do que voc√™ est√° falando... Sou apenas um viajante vindo da espanha para fugir de uma praga que estava infectando todo mundo.",
        "choices": [
            {
                "text": "Examinar os itens do mercador",
                "nextScene": "merchant_items"
            }, {
                "text": "Ignorar o mercador e seguir para a porta ao fundo da cripta",
                "nextScene": "crypt_door",
                "requiresCheck": true,
                "checkType": "str"
            }, {
                "text": "Tentar roub√°-lo",
                "nextScene": "merchant_steal_fail"
            }
        ]
    },
    "merchant_items": {
        "text": "Voc√™ pergunta para o mercador: Voc√™ n√£o √© o carinha que vende coisas no Resident Evil 4? Ao que ele responde: Eu n√£o fa√ßo ideia do que voc√™ est√° falando... Sou apenas um viajante vindo da espanha para fugir de uma praga que estava infectando todo mundo.",
        "choices": [{
            "text": "Voltar e tentar abrir a porta de pedra ao fundo da cripta",
            "nextScene": "crypt_door",
            "requiresCheck": true,
            "checkType": "str"
        }, {
            "text": "Voltar e examinar os sarc√≥fagos",
            "nextScene": "crypt_sarcophagi"
        }],
        "onEnter": "function() { playerGoldElement.textContent = `Ouro: ${gameState.player.gold}`; shopModal.classList.remove('hidden'); addToLog('üéÅ Hora das compras!!!'); }"
    },
    "merchant_steal_fail": {
        "text": "Voc√™ se aproxima sutilmente do mercador enquanto balbucia algumas coisas como se estivesse pensando em voz alta enquato olha os itens de perto e quando ele olha para o lado, voc√™ tenta discretamente e rapidamente pegar uma po√ß√£o m√°gica misteriosa e coloca no bolso. Quando o mercador vira o rosto de volta voc√™ diz que n√£o h√° nada de interessante no momento e que talvez volte depois, pois tem coisas mais imoprtantes pra fazer. Voc√™ vira de costas e sai andando tranquilamente.",
        "choices": [{
            "text": "Seguir normalmente para examinar os sarc√≥fagos",
            "nextScene": "merchant_kill_you"
        }, {
            "text": "Voltar para devolver a po√ß√£o",
            "nextScene": "merchant_steal_cancel"
        }]
    },
    "merchant_steal_cancel": {
        "text": "Voc√™ volta arrependido de ter roubado a po√ß√£o e decide voltar para devolver, mas a vergonha √© tanta que voc√™ prefere devolver sem que ele veja. Voc√™ puxa assunto e quando ele n√£o est√° vendo voc√™ devolve a po√ß√£o sem ele perceber.",
        "choices": [{
            "text": "Examinar os itens do mercador",
            "nextScene": "merchant_items"
        }, {
            "text": "Perguntar quem ele √©",
            "nextScene": "merchant_question"
        }, {
            "text": "Se despedir do mercador e seguir para a porta dos fundos da cripta",
            "nextScene": "crypt_door",
            "requiresCheck": true,
            "checkType": "str"
        }]
    },
    "merchant_kill_you": {
        "text": "Voc√™ se afasta rapidamente em dire√ß√£o aos sarc√≥fagos e percebe que um deles est√° entreaberto, voc√™ se aproxima curioso para olhar o que tem dentro e percebe que √© o seu voc√™ mesmo dentro do sarc√≥fago, p√°lido e duro com o rosto retorcido, voc√™ fica sem entender nada e ao olhar para o seu pr√≥prio corpo percebe que se tornou um fantasma errante. Seus itens sumiram, suas roupas se tornaram trapos escuros e sujos e sua mente nublada quase como se estivesse em um sonho fica cada vez mais cansada e sem vontade de lutar. Voc√™ pensa: 'Foi o mercador? Mas como? Ele viu que eu roubei?', mas sua mente cansada e sonolenta desiste de elaborar conjecturas sucumbe perdendo completamente a consci√™ncia. Sua √∫ltima vis√£o √© do mercador olhando para voc√™ e rindo alto 'Aaahhh! Aiu bai irira rai pruaici!' Sua aventura termina aqui, em uma cripta secreta vagando como um fantasma errante.",
        "choices": []
    },
    "crypt_door_success": {
        "text": "Com um grunhido de esfor√ßo, voc√™ consegue mover a pesada porta de pedra. Ela se abre lentamente, revelando uma passagem escura al√©m. Voc√™ ouve um leve sussurro de vento vindo de dentro.",
        "choices": [{
            "text": "Entre na passagem al√©m",
            "nextScene": "crypt_puzzle_entrance"
        }],
        "onEnter": "function() { changeXP(15); }"
    },
    "crypt_door_failure": {
        "text": "A porta de pedra √© muito pesada e inflex√≠vel. Voc√™ se esfor√ßa contra ela, mas ela n√£o se move. Parece selada.",
        "choices": [{
            "text": "Procure outra maneira de abri-la",
            "nextScene": "crypt_parchment_read"
        },
        {
            "text": "Examine os sarc√≥fagos",
            "nextScene": "crypt_sarcophagi"
        }]
    },
    "crypt_sarcophagi": {
        "text": "Voc√™ examina os sarc√≥fagos. Eles s√£o feitos de pedra fria e √°speras, alguns esculpidos com imagens de guerreiros de rosto severo e figuras vestidas com mantos. A tampa de um sarc√≥fago parece ligeiramente torta...",
        "choices": [{
            "text": "Tente abrir o sarc√≥fago torto",
            "nextScene": "crypt_sarcophagus_open",
            "requiresCheck": true,
            "checkType": "int"
        }, {
            "text": "Tente abrir a porta de pedra novamente",
            "nextScene": "crypt_door",
            "requiresCheck": true,
            "checkType": "str"
        }, {
            "text": "Retornar ao inicio da cripta para garantir que n√£o esqueceu de nada",
            "nextScene": "crypt"
        }]
    },
    "crypt_sarcophagus_open_success": {
        "text": "Com cuidado, voc√™ tenta levantar a tampa torta. Ela se move com surpreendente facilidade, revelando n√£o ossos, mas um compartimento escondido! Dentro h√° uma pequena caixa ornamentada e um pergaminho enrolado.",
        "choices": [{
            "text": "Abra a caixa",
            "nextScene": "crypt_box_open"
        }],
        "onEnter": "function() { changeXP(20); }"
    },
    "crypt_sarcophagus_open_failure": {
        "text": "Voc√™ tenta abrir o sarc√≥fago, mas ele √© mais pesado do que parece. A tampa se move ligeiramente, mas permanece quase totalmente selada. Voc√™ n√£o pode for√ß√°-la a abrir sem fazer muito barulho.",
        "choices": [{
            "text": "Tente abrir a porta de pedra novamente",
            "nextScene": "crypt_door",
            "requiresCheck": true,
            "checkType": "str"
        }, {
            "text": "Retornar ao inicio da cripta para garantir que n√£o esqueceu de nada",
            "nextScene": "crypt"
        }]
    },
    "crypt_box_open": {
        "text": "Dentro da caixa ornamentada, voc√™ encontra uma chave de prata brilhante e um punhado de pedras preciosas.",
        "choices": [{
            "text": "Voltar para tentar abrir a porta com a chave.",
            "nextScene": "crypt_door_success"
        }],
        "onEnter": "function() { addToInventory('Chave de Prata'); addToInventory('Pedras Preciosas'); changeGold(15); changeXP(25); }"
    },
    "crypt_parchment_read": {
        "text": "Tem algumas escrituras acima da porta quase impercept√≠veis devido ao ac√∫mulo de poeira, a escrita est√° em uma caligrafia elegante: \"Eu falo sem voz, guardo sem m√£os, e permane√ßo onde os vivos temem pisar. Sou encontrado em t√∫mulos, mas n√£o sou um cad√°ver. O que sou eu?\"",
        "choices": [{
            "text": "Uma sombra",
            "nextScene": "crypt_riddle_failure"
        }, {
            "text": "Um epit√°fio",
            "nextScene": "crypt_riddle_success"
        }, {
            "text": "Um eco",
            "nextScene": "crypt_riddle_failure"
        }, {
            "text": "Um tesouro",
            "nextScene": "crypt_riddle_failure"
        }],
        "onEnter": "function() { addToLog('üè¥‚Äç‚ò†Ô∏è O vento para de repente quase como se observasse voc√™ em sil√™ncio, esperando sua resposta.'); gameState.pendingCheck = 'riddle'; }"
    },
    "crypt_riddle_success": {
        "text": "O vento normaliza e voc√™ ouve um clique atras da porta como se tivesse destravado algum mecanismo que a trancava.",
        "choices": [
            {
                "text": "Abrir a porta",
                "nextScene": "crypt_door_success"
            }
        ],
        "onEnter": "function() { changeGold(20); changeXP(15); addToLog('üëç Parab√©ns!!! Voc√™ resolveu a charada!!!'); }"
    },
    "crypt_riddle_failure": {
        "text": "O vento volta a soprar forte, gelado e cortante e come√ßa infrinjir cortes na sua pele por todo seu corpo!",
        "choices": [{
            "text": "Tentar uma √∫ltima vez antes de seja tarde",
            "nextScene": "crypt_parchment_read"
        }],
        "onEnter": "function() { if (!gameState.player.inventory.includes('Po√ß√£o de cura')) { scenes['crypt_riddle_failure'].choices.push({ 'text': 'Tomar po√ß√£o!', 'nextScene': 'potion_health' }); addChoiceInCurrentScene(scenes['crypt_riddle_failure']); } gameState.lastScene = 'crypt_parchment_read'; changeHealth(-3); addToLog('üè¥‚Äç‚ò†Ô∏è Voc√™ respondeu errado. O ar fica mais frio e agitado cortando sua pele...'); }"
    },
    "potion_health": {
        "text": "Voc√™ abre rapidamente o vidro de po√ß√µes regenerando seus ferimentos.",
        "choices": [],
        "onEnter": "function() { removeHealthPotionsFromInventory(); gameState.player.health = gameState.player.maxHealth; addToLog('‚ù§Ô∏è Voc√™ toma a po√ß√£o e volta a ficar com ' + gameState.player.health + ' pontos de vida'); addToLog('‚¨ÖÔ∏è Voltando para a √∫ltima cena.'); setTimeout(() => { loadScene(gameState.lastScene); }, 4500); }"
    },
    "crypt_puzzle_entrance": {
        "text": "Atr√°s da pesada porta de pedra ou talvez acionada pela charada, uma se√ß√£o da parede desliza para abrir, revelando uma c√¢mara oculta. S√≠mbolos estranhos est√£o gravados nas paredes e um padr√£o complexo de ladrilhos cobre o ch√£o.",
        "choices": [{
            "text": "Tente resolver o quebra-cabe√ßa de ladrilhos",
            "nextScene": "crypt_puzzle_result",
            "requiresCheck": true,
            "checkType": "int"
        }, {
            "text": "Ignore o quebra-cabe√ßa e retorne √† cripta",
            "nextScene": "crypt"
        }],
        "onEnter": "function() { if (gameState.pendingCheck === 'riddle') { gameState.checkDifficulty = 8; } else { gameState.checkDifficulty = 12; } }"
    },
    "crypt_puzzle_result_success": {
        "text": "Com cuidado ou talvez um lampejo de insight, voc√™ resolve o quebra-cabe√ßa! Os ladrilhos se encaixam e voc√™ ouve um mecanismo se desativando. Uma porta secreta se abre nas proximidades, revelando uma c√¢mara de tesouro!",
        "choices": [{
            "text": "Entre na c√¢mara de tesouro",
            "nextScene": "crypt_treasure_room"
        }],
        "onEnter": "function() { changeXP(40); }"
    },
    "crypt_puzzle_result_failure": {
        "text": "Voc√™ pisa no ladrilho errado! O ch√£o treme e voc√™ ouve um clique. Dardos s√£o disparados das paredes e os ladrilhos sob seus p√©s se retraem, jogando voc√™ em um po√ßo raso! Voc√™ est√° ferido e envenenado!",
        "choices": [{
            "text": "Tente resolver o quebra-cabe√ßa novamente",
            "nextScene": "crypt_puzzle_result",
            "requiresCheck": true,
            "checkType": "int"
        }],
        "onEnter": "function() { if (!gameState.player.inventory.includes('Po√ß√£o de cura')) { scenes['crypt_puzzle_result_failure'].choices.push({ 'text': 'Tomar po√ß√£o!', 'nextScene': 'potion_health' }); addChoiceInCurrentScene(scenes['crypt_puzzle_result_failure']); } changeHealth(-4); gameState.lastScene = 'crypt_puzzle_entrance'; }"
    },
    "crypt_treasure_room": {
        "text": "Voc√™ entra em uma pequena c√¢mara cheia de tesouros brilhantes! Moedas de ouro est√£o empilhadas, ba√∫s transbordando de joias e artefatos antigos brilham √† luz da tocha. √â um tesouro digno de um rei ou de um aventureiro muito bem-sucedido!",
        "choices": [{
            "text": "Re√∫na o tesouro",
            "nextScene": "crypt_treasure_gather"
        }, {
            "text": "Seja cauteloso, verifique se h√° mais armadilhas",
            "nextScene": "crypt_treasure_traps",
            "requiresCheck": true,
            "checkType": "int"
        }]
    },
    "crypt_treasure_traps_success": {
        "text": "Sua cautela se mostra s√°bia. Ap√≥s uma inspe√ß√£o mais detalhada, voc√™ descobre placas de press√£o sutis ao redor das pilhas de tesouro e fios finos quase invis√≠veis contra o ouro brilhante. Voc√™ desarma cuidadosamente as armadilhas mais √≥bvias.",
        "choices": [{
            "text": "Agora re√∫na o tesouro",
            "nextScene": "crypt_treasure_gather"
        }],
        "onEnter": "function() { changeXP(30); }"
    },
    "crypt_treasure_traps_failure": {
        "text": "Apesar de suas tentativas de encontrar armadilhas, voc√™ n√£o v√™ uma placa de press√£o oculta. Ao entrar mais na c√¢mara de tesouro, voc√™ ouve um estalo agudo! Uma rede cai do teto, prendendo voc√™!",
        "choices": [{
            "text": "Lute contra a rede",
            "nextScene": "crypt_net_escape",
            "requiresCheck": true,
            "checkType": "str"
        }, {
            "text": "Tente desembara√ßar a rede com cuidado",
            "nextScene": "crypt_net_untangle",
            "requiresCheck": true,
            "checkType": "dex"
        }],
        "onEnter": "function() { changeHealth(-2); }"
    },
    "crypt_net_escape_success": {
        "text": "Com for√ßa bruta, voc√™ se esfor√ßa contra a rede, testando seus pontos fracos. Cordas se partem e rasgam, e voc√™ consegue se libertar, embora a rede agora esteja em farrapos.",
        "choices": [{
            "text": "Finalmente re√∫na o tesouro!",
            "nextScene": "crypt_treasure_gather"
        }],
        "onEnter": "function() { changeHealth(-3); }"
    },
    "crypt_net_escape_failure": {
        "text": "Voc√™ luta contra a rede, mas ela √© muito forte. Quanto mais voc√™ se debate, mais apertada ela parece prend√™-lo. Voc√™ est√° preso, pelo menos por enquanto.",
        "choices": [{
                "text": "Tente desembara√ßar a rede com mais cuidado",
                "nextScene": "crypt_net_untangle",
                "requiresCheck": true,
                "checkType": "dex"
            }, {
                "text": "Desista do tesouro e tente escapar da rede",
                "nextScene": "crypt_net_escape_give_up"
            }
        ],
        "onEnter": "function() { changeHealth(-4); }"
    },
    "crypt_net_untangle_success": {
        "text": "Com dedos √°geis e movimentos cuidadosos, voc√™ trabalha nos n√≥s da rede. Lentamente, mas com seguran√ßa, voc√™ cria folga e, eventualmente, se liberta. Levou tempo e paci√™ncia, mas voc√™ n√£o est√° mais preso.",
        "choices": [{
            "text": "Agora, cautelosamente, re√∫na o tesouro",
            "nextScene": "crypt_treasure_gather"
        }],
        "onEnter": "function() { changeXP(20); }"
    },
    "crypt_net_untangle_failure": {
        "text": "Os n√≥s da rede s√£o muito complexos ou seus dedos s√£o muito desajeitados em sua pressa e p√¢nico. Voc√™ parece n√£o conseguir se desembara√ßar. A rede permanece firmemente no lugar.",
        "choices": [{
            "text": "Lute novamente com for√ßa bruta",
            "nextScene": "crypt_net_escape",
            "requiresCheck": true,
            "checkType": "str"
        }, {
            "text": "Desista do tesouro e tente escapar da rede",
            "nextScene": "crypt_net_escape_give_up"
        }]
    },
    "crypt_net_escape_give_up": {
        "text": "Percebendo que o tesouro pode ser muito arriscado, voc√™ concentra todos os seus esfor√ßos em apenas escapar da rede. Voc√™ procura um mecanismo de libera√ß√£o ou outra fraqueza na armadilha... Mas n√£o h√° nada que possa lhe salver nesse momento.",
        "choices": [{
            "text": "Aceite seu destino...",
            "nextScene": "death_net_trap"
        }],
        "onEnter": "function() { changeHealth(-5); }"
    },
    "death_net_trap": {
        "text": "Preso e exausto, voc√™ sucumbe aos seus ferimentos ou aos outros perigos da masmorra. Sua aventura termina aqui, em uma c√¢mara de tesouro que voc√™ n√£o conseguiu reivindicar.",
        "choices": [],
        "onEnter": "function() { addToLog('‚ò†Ô∏è‚ò†Ô∏è‚ò†Ô∏è Voc√™ morreu ‚ò†Ô∏è‚ò†Ô∏è‚ò†Ô∏è'); }"
    },
    "crypt_treasure_gather": {
        "text": "Voc√™ cuidadosamente junta punhados de moedas de ouro, coloca joias em suas bolsas e admira os artefatos antigos. Voc√™ acumulou um tesouro significativo da cripta!",
        "choices": [{
            "text": "Deixe a cripta, carregado de tesouro",
            "nextScene": "crypt_exit"
        }],
        "onEnter": "function() { changeGold(100); addToInventory('Artefatos Antigos'); changeXP(50); }"
    },
    "crypt_exit": {
        "text": "Voc√™ retorna sobre seus passos, deixando a cripta e voltando para a c√¢mara escura, passando pelos cristais at√© a c√¢mara de cristais onde voc√™ caiu na cripta. Voc√™ sabe que provavelmente n√£o explorou tudo o que tinha l√° embaixo, mas isso n√£o importa, o que realmente importa √© que voc√™ conseguiu sair com vida e ainda com um bom tesouro acumulado.",
        "choices": [{
            "text": "Explorar a c√¢mara de cristais para ver se encontra mais tesouros",
            "nextScene": "crystal_cave_exits_alternative"
        }, {
            "text": "Deixe a masmorra com seu saque",
            "nextScene": "victory_partial"
        }],
        "onEnter": "function() { addToLog('üì® Vai arregar? ou vai continuar explorando a caverna? ü§î'); }"
    },
    "victory_partial": {
        "text": "Voc√™ emerge da Masmorra de Drakmor, piscando sob a luz do sol. Voc√™ est√° cansado e talvez ferido, mas tamb√©m significativamente mais rico e experiente. Voc√™ enfrentou a masmorra e reivindicou uma parte de seu tesouro. Talvez voc√™ retorne um dia para se aprofundar mais...",
        "choices": [],
        "onEnter": "function() { addToLog('üì® Aaaaarreg√£o!!! üòí'); setTimeout(() => { alert('üéä Obrigado por jogar! üéâ'); }, 7500); }"
    },
    "last_fight": {
        "text": "De repente, um grito estridente ecoou pela masmorra, interrompendo o sil√™ncio sepulcral. Um arrepio percorreu a espinha do aventureiro, e ele se virou para ver o que causou o barulho. \nAtr√°s dele, na escurid√£o que se estendia al√©m da luz da tocha, uma figura fantasmag√≥rica emergiu das sombras. Era alto, emaciado, com olhos vermelhos brilhantes e uma estrutura esquel√©tica. Sua pele era p√°lida e transl√∫cida, revelando as veias e os m√∫sculos por baixo. \nEle usava vestes esfarrapadas e carregava uma foice pingando sangue. Ele se movia com uma gra√ßa sobrenatural, seus passos silenciosos e seus movimentos r√°pidos. \nA presen√ßa do espectro encheu o ar com um sentimento palp√°vel de maldade e terror. O espectro avan√ßou, seu olhar fixo no aventureiro. Ele ergueu sua foice, pronto para atacar.",
        "choices": [{
            "text": "Lutar contra o fantasma de Drakmor",
            "nextScene": "pre_victory",
            "requiresCheck": true,
            "checkType": "combat"
        }],
        "onEnter": "function() { gameState.currentEnemy = { 'name': 'Fantasma de Drakmor', 'ac': 18, 'hp': 40, 'max_hp': 40, 'str': 16, 'dex': 14, 'con': 10, 'bba': 4 }; }"
    },
    "pre_victory": {
        "text": "O √∫ltimo golpe mortal √© desferido no fantasma fazendo-o urrar de dor em seu √∫ltimo lamento da eternidade! O fantasma brilha forte antes de explodir em uma esfera de energia magn√©tica que faz a caverna estremecer e come√ßar a desmoronar!",
        "choices": [{
            "text": "Fugir correndo da caverna",
            "nextScene": "victory"
        }]
    },
    "victory": {
        "text": "Voc√™ est√° triunfante na c√¢mara, com a Espada Joia de Drakmor em sua m√£o e uma riqueza incomensur√°vel a seus p√©s. Voc√™ superou os desafios da Masmorra de Drakmor e reivindicou seu maior tesouro! Lendas ser√£o cantadas sobre seu nome!",
        "choices": [],
        "onEnter": "function() { addToLog('üéä Parab√©ns!!! esse √© o melhor final!! Obrigado por jogar!! üéâ'); setTimeout(() => { alert('üéä Parab√©ns!!! esse √© o melhor final!! Obrigado por jogar!! üéâ'); }, 7500); }"
    },
    "death": {
        "text": "Sua sa√∫de diminui para zero. A escurid√£o o reivindica enquanto voc√™ sucumbe aos seus ferimentos ou aos perigos da masmorra. Sua aventura termina aqui...",
        "choices": [],
        "onEnter": "function() { addToLog('‚ò†Ô∏è‚ò†Ô∏è‚ò†Ô∏è Voc√™ morreu! ‚ò†Ô∏è‚ò†Ô∏è‚ò†Ô∏è'); }"
    }
}